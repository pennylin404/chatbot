<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domain B - Chatbot Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        .header {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        .info-box {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #fff;
        }
        code {
            background: rgba(0,0,0,0.3);
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .domain-badge {
            display: inline-block;
            background: #4ecdc4;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸŒ Domain B æ¸¬è©¦é é¢</h1>
        <div class="domain-badge">æ¨¡æ“¬åŸŸå: https://domain-b.example.com</div>
    </div>

    <div class="info-box">
        <h3>ğŸ“‹ ç•¶å‰é…ç½®</h3>
        <p><strong>Origin:</strong> <code id="current-origin">è¼‰å…¥ä¸­...</code></p>
        <p><strong>User ID:</strong> <code>test-user-123</code></p>
        <p><strong>Token:</strong> <code>EzLkESGW0zOk0bwj</code></p>
    </div>

    <div class="info-box">
        <h3>âœ… æ¸¬è©¦æ­¥é©Ÿ</h3>
        <ol>
            <li>åœ¨æ­¤é é¢é–‹å•Ÿ chatbot ä¸¦ç™¼é€ä¸€å‰‡è¨Šæ¯</li>
            <li>æ‰“é–‹ <a href="/test-domain-a.html" style="color: #ffd93d; font-weight: bold;">Domain A æ¸¬è©¦é é¢</a></li>
            <li>åœ¨ Domain A é é¢ä¹Ÿç™¼é€ä¸€å‰‡è¨Šæ¯</li>
            <li>æª¢æŸ¥å¾Œç«¯æ—¥èªŒï¼Œç¢ºèªå…©å€‹åŸŸåçš„ <code>origin</code> åƒæ•¸ä¸åŒ</li>
        </ol>
    </div>

    <div class="info-box">
        <h3>ğŸ” é æœŸçµæœ</h3>
        <p>åœ¨ Domain B ç™¼é€çš„è¨Šæ¯ï¼Œå¾Œç«¯æ‡‰è©²æ”¶åˆ°ï¼š</p>
        <code>origin: "https://domain-b.example.com"</code>
    </div>

    <script>
        // é…ç½® Chatbot - Domain B
        window.difyChatbotConfig = {
            token: 'EzLkESGW0zOk0bwj',
            baseUrl: 'http://localhost:3000',
            inputs: {
                origin: 'https://domain-b.example.com'  // Domain B çš„ origin
            }
        };

        // é¡¯ç¤ºç•¶å‰é…ç½®
        document.getElementById('current-origin').textContent = window.difyChatbotConfig.inputs.origin;

        // ç›£è½ iframe ready äº‹ä»¶
        window.addEventListener('message', (event) => {
            if (event.data.type === 'dify-chatbot-iframe-ready') {
                console.log('âœ… Chatbot iframe å·²å°±ç·’');
                console.log('ğŸ“¤ è‡ªå‹•ç™¼é€ origin:', window.difyChatbotConfig.inputs.origin);
            }
        });
    </script>

    <!-- è¼‰å…¥æœ¬åœ°çš„ embed.min.js -->
    <script src="http://localhost:3000/embed.min.js" defer></script>
</body>
</html>
